.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSD" "8" "09 August 2012" "Gfarm" ""

.SH NAME
gfsd(8) \- Gfarm filesystem daemon
.SH SYNOPSIS

\fBgfsd\fR [ \fB\fIoptions\fB\fR ]

.SH "DESCRIPTION"
.PP
\fBgfsd\fR is a filesystem daemon for the Gfarm filesystem, which runs on every filesystem node, usually, with root privileges.
.PP
\fBgfsd\fR provides remote file operations with access control in the
Gfarm filesystem as well as user authentication, file replication,
and node resource status monitoring.
.PP
It is possible for \fBgfsd\fR to be executed as a non-privileged user
process, although only the user that executes the \fBgfsd\fR can be authenticated.
Other users cannot use it.
For details, see SETUP.private.en document.
.SH "OPTIONS"
.TP
\fB-L \fIlog-level\fB\fR
Specifies a log priority level.  The log output, which priority
is higher or equal to this level, will be sent to syslog or standard error.
Please refer gfarm2.conf(5) for the priority levels which can be specified
by this option.
.TP
\fB-P \fIpid-file\fB\fR
Specifies a file name which records the process ID of gfsd.
.TP
\fB-c\fR
When starting up, gfsd investigates all files stored in a spool
directory.  This option is useful when a hostname of a file system
node is changed.   Valid file copies will be registered to the
metadata server.

When the \fB-c\fR option is specified more than once (or
\fB-cc\fR is specified), invalid file copies that are not
registered in the metadata server are deleted.  This option is not
recommeded.

Furthermore, when the \fB-c\fR option is specified more
than once (or \fB-ccc\fR is specified), invalid file copies
that are not registered in the metadata server are moved (not deleted)
to the lost+found directory.  And, when invalied file copies are
registered in the metadata server, the informations of file copies are
deleted from the metadata server.

[NOTE] A gfsd should be restarted with the \fB-ccc\fR
option only when all clients do not access to the Gfarm filesystem.
If the gfsd is restarted with the \fB-ccc\fR option while a
file is opened in write-mode or immediately after a file is removed,
those files may be moved to the lost+found directory.
.TP
\fB-d\fR
Specifies the debug mode.  With the -d option, gfsd runs as a
foreground process, not a daemon.

If this option is specified and \fB-L\fR is not specified,
the log level is set to "debug".
.TP
\fB-f \fIconfig-file\fB\fR
Specifies a configuration file that is read instead of the default
configuration file.
.TP
\fB-h \fIhostname\fB\fR
Specifies my own canonical host name.
.TP
\fB-l \fIIP-address\fB\fR
Specifies the IP address from which the gfsd accepts TCP and UDP
requests.
The default address is all IP addresses of the host.
This option is useful to invoke multiple instances of gfsd
to provide multiple spool directories on the host.
.TP
\fB-r \fIdirectory\fB\fR
Specifies a spool directory
for a Gfarm filesystem on this filesystem node.
.TP
\fB-s \fIsyslog-facility\fB\fR
Specifies a syslog facility to report errors by gfsd.  By default,
local0 is used.
.TP
\fB-v\fR
Makes gfsd output verbose log message on authentication.
This is useful, when one has to resolve an issue about GSI authenticaion.
.TP
\fB-?\fR
Displays a list of command options.
.SH "FILES"
.TP
\fB\fI%%SYSCONFDIR%%/gfarm2.conf\fB\fR
configuration file
.SH "SEE ALSO"
.PP
\fBgfarm2.conf\fR(5)
