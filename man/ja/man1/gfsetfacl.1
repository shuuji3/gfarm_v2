.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSETFACL" "1" "08 March 2011" "Gfarm" ""

.SH NAME
gfsetfacl \- Gfarm ファイルのアクセス制御リストを設定する
.SH SYNOPSIS

\fBgfsetfacl\fR [ \fB\fIオプション\fB\fR ] [ \fB\fIpath\fB\fR\fI ...\fR ]

.SH "DESCRIPTION"
.PP
\fBgfsetfacl\fR は Gfarm ファイルシステム上にある
ファイルやディレクトリのアクセスコントロールリスト (ACL) を設定します．
.SH "OPTIONS"
.TP
\fB-b\fR
すべての拡張 ACL エントリを削除します．
基本 ACL (所有者，グループ，その他) は削除されません．
.TP
\fB-k\fR
デフォルト ACL だけを削除します．
.TP
\fB-n\fR
ACL マスクエントリを再計算しません．gfsetfacl コマンドデフォルト
の挙動は，マスクエントリが指定されなかった場合だけマスクエントリを再計
算します．
.TP
\fB-r\fR
常に ACL マスクエントリを再計算します．マスクエントリを指定したと
しても再計算します．(-n オプションも参照してください．)
.TP
\fB-t\fR
テストモードです．ファイルやディレクトリの ACL を変更する代わりに，
ACL 入力と変更予定の新しい ACL を文字列で表示します．
.TP
\fB-m \fIacl_spec\fB\fR
ファイルやディレクトリの ACL エントリを追加または置換するために，
ACL エントリの文字列表現をこのオプションで指定します．
複数の ACL エントリをコンマ文字 (`,') で区切ります．
.TP
\fB-M \fIacl_file\fB\fR
ファイルやディレクトリの ACL エントリを追加または置換するために，
ACL 文字列表現が記述されたファイルまたは標準入力 (`-') 
を指定します．
この ACL ファイル入力は gfgetfacl コマンドの出力を受け付けます．
.TP
\fB-?\fR
引数オプションを表示します．
.SH "ACL ENTRIES"
.PP
gfsetfacl コマンドは以下の ACL エントリ書式を認識します．
perms フィールドは許可を表す文字を組み合わせです．
デフォルト ACL エントリは d[efault:] 接頭辞を持ちます．
.TP
\fB[d[efault:]u[ser]::perms\fR
所有者の許可
.TP
\fB[d[efault:]u[ser]:username:perms\fR
指名ユーザの許可
.TP
\fB[d[efault:]g[roup]::perms\fR
ファイルグループの許可
.TP
\fB[d[efault:]g[roup]:groupname:perms\fR
指名グループの許可
.TP
\fB[d[efault:]m[ask]::perms\fR
実行権のマスク(最大の許可) (所有者とその他、以外に効果)
.TP
\fB[d[efault:]o[ther]::perms\fR
その他への許可
.SH "EXAMPLES"
.TP
\fB指名ユーザへの読み込みアクセスを許可する．\fR
gfsetfalc -m u:testuser:r filename
.TP
\fBfilename2 の ACL をfilename1 の ACL で置換する．\fR
gfgetfacl filename1 | gfsetfacl -b -M - filename2
.TP
\fB長い形式の ACL 文字列表現\fR
.nf
# comment
user::rw-
user:testuser:rw-       #effective:r--
group::r--
group:testgroup:rw-     #effective:r--
mask::r--
other::r--
default:user::rwx
default:group::r-x
default:other::r-x
.fi
.TP
\fB短い形式の ACL 文字列表現\fR
.nf
u::rw,u:user1:rw,g::r,g:group1:rw,m::r,o::r,d:u::rwx,d:g::rx,d:o::rx
.fi
.SH "SEE ALSO"
.PP
\fBgfgetfacl\fR(1)
