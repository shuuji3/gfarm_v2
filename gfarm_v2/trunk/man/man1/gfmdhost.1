.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFMDHOST" "1" "08 6æœˆ 2011" "Gfarm" ""

.SH NAME
gfmdhost \- Gfarm metadata server host maintenance command
.SH SYNOPSIS

\fBgfmdhost\fR [ \fB-l\fR ] [ \fB-P \fIpath\fB\fR ]


\fBgfmdhost\fR { \fB-c\fR | \fB-m\fR } [ \fB-P \fIpath\fB\fR ] [ \fB-p \fIport-number\fB\fR ] [ \fB-C \fIcluster-name\fB\fR ] [ \fB-t 
 { m | c | s }
\fR ] \fB\fImetadata-server-name\fB\fR


\fBgfmdhost\fR \fB-d\fR [ \fB-P \fIpath\fB\fR ] \fB\fImetadata-server-name\fB\fR

.SH "DESCRIPTION"
.PP
\fBgfmdhost\fR is used to display and maintain
the information about the metadata server redundancy feature.
\fBgfmdhost\fR has functions which can be selected by
-l¡¢-c, -m and -d options.
These functions are mutually exclusive, and only one option
among them can be specified.
If none of them is specified, gfmd host name will be listed as
the default function of this command.
.SH "FUNCTIONS"
.PP
The functions of \fBgfmdhost\fR command are listed in following.
.TP
\fB<none>\fR
If no function is specified,
all the registered gfmd hosts are displayed
in alphabetical order.
.TP
\fB-l\fR
All registered gfmd hosts are listed with detail information.
They are grouped by the clusters and ordered in alphabetical.

The detail information is displayed in the following order.

\fBConnection State (+|-)\fR

"+" means that the gfmd connected to the master gfmd.
"-" means that the gfmd does not connected to the master gfmd.
This column for the master gfmd is always "+".

\fBServer Type (master|slave)\fR

This represents whether the gfmd is master or slave.

\fBReplication Type (sync|async|-)\fR

"sync" means a synchronous replication.
"async" means an asynchronous replication.
This column for the master is always "-".

\fBConfigration of Master Candidate (c|m|s)\fR

"m" means a default master gfmd, "c" means a master candidate one,
and "s" means a gfmd as slave only.

\fBCluster Name\fR

A cluster name where the gfmd belongs to.
"(empty)" is displayed for the default cluster.
.TP
\fB-c\fR
Registers the gfmd host that is specified in the argument.
-C, -p, -t can be optionally specified.
.TP
\fB-m\fR
Modifies the gfmd host that is specified in the argument.
-C, -p, -t can be optionally specified.
.TP
\fB-d\fR
Deletes the gfmd host that is specified in the argument.
The master gfmd cannot be deleted.
.TP
\fB-?\fR
Prints usage.
.SH "OPTIONS"
.TP
\fB-C \fIcluster-name\fB\fR
For -c / -m functions, specifies a cluster name where the gfmd host
belongs to.
If it is not specified, the gfmd will belong to the default cluster.
.TP
\fB-p \fIport-number\fB\fR
For -c / -m functions, specifies a port number of the gfmd.
If it is not specified, 601 as the default port number is used.
.TP
\fB-t {m|c|s}\fR
For -c / -m functions, specifies a configuration of master candidate.
"m" means a default master, "c" means a master candidate and
and "s" means a gfmd as slave-only.
If it is not specified, "c" is used.
The gfmd configured as the default master cannot be changed to
a master candidate or slave-only directly.
If the gfmd configured as non default master is set to the
default master by "-t m", the previous default master changes to
a master candidate at same time.
.TP
\fB-P \fIpath\fB\fR
This option specifies a pathname or a Gfarm URL to identify
a metadata server which will be accessed by this command.
If not specified, "/" is used as the default value.
.SH "SEE ALSO"
.PP
\fBgfarm2.conf\fR(5)
