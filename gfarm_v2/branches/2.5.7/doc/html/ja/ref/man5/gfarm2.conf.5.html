<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gfarm2.conf</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFARM2.CONF.5"
></A
>gfarm2.conf</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfarm2.conf&nbsp;--&nbsp;Gfarm設定ファイル</DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
>gfarm2.confファイルは、gfarmプログラムの設定ファイルです。
サーバー・プロセスであるgfsdは、デフォルトでは、
この%%SYSCONFDIR%%/gfarm2.confを設定ファイルとして参照します。
メタデータサーバー・プロセスであるgfmdは、%%SYSCONFDIR%%/gfmd.confを
読み込みます。gfmd.confの形式は、gfarm2.confと同一です。
なお、設定内容が読み込まれるのは起動時だけなので、
設定内容を変更した場合、サーバーを再起動する必要があります。</P
><P
>アプリケーションプログラムは、環境変数GFARM_CONFIG_FILEで
指定したファイルと、%%SYSCONFDIR%%/gfarm2.confを、設定ファイル
として参照します。この二つのファイルでは、環境変数GFARM_CONFIG_FILEで
指定したファイルの設定の方が先に読み込まれます。
どちらの設定ファイルも、同一の文法で記述します。
同一の指定文が複数あった場合には、先に指定されていた方が優先されます。
環境変数GFARM_CONFIG_FILEが設定されてない場合、代わりに
ユーザのホームディレクトリにある.gfarm2rcファイルを使用します。</P
><P
>gfarm2.confは、一行に一文の形式で設定します。
ただし、行末に文字``\''を記述することによって、行を継続させることが
できます。また、文字``#''から行末までは、コメントとして扱われ、無視
されます。</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="HOSTSPECIFICATION"
></A
><H2
>ホスト指定</H2
><P
>引数として、<TT
CLASS="PARAMETER"
><I
>ホスト指定</I
></TT
>を記述できる文がいくつかありますが、
この場合、ホスト指定には、下記のいずれかを記述できます。</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
></DT
><DD
><P
>"."で区切られた0〜255までの数字4つで、IPアドレスを指定します。</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
>/<TT
CLASS="PARAMETER"
><I
>MM</I
></TT
></DT
><DD
><P
>IPアドレスと、"/"で区切られた0〜31までの数字で、ネットワークを
指定します。"/"以降の数字はnetmaskのビット長です。</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>domain.name</I
></TT
></DT
><DD
><P
>ホスト名をドメイン名で指定します。</P
></DD
><DT
><I
CLASS="EMPHASIS"
>.</I
><TT
CLASS="PARAMETER"
><I
>domain.name</I
></TT
></DT
><DD
><P
>ドメイン名の先頭が"."ではじまる場合、このドメイン名に所属する全ての
ホストを意味します。</P
></DD
><DT
><I
CLASS="EMPHASIS"
>*</I
></DT
><DD
><P
>"*"と記述されている場合、全てのホストを意味します。</P
></DD
><DT
><I
CLASS="EMPHASIS"
>LISTENER</I
></DT
><DD
><P
>全て大文字で"LISTENER"と記述すると、通信する相手に関係なく、
サーバー側(着呼側)のソケットを意味します。</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="STATEMENT"
></A
><H2
>文</H2
><P
>文には、下記の種類があります。</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>spool</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfsdスプール・ディレクトリ</I
></TT
></DT
><DD
><P
>gfsdが、gfarmファイルの実体を保持するディレクトリ名を
指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool&nbsp;/var/spool/gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_listen_address</SPAN
> <TT
CLASS="PARAMETER"
><I
>IPアドレス</I
></TT
></DT
><DD
><P
>gfsdがTCPおよびUDPの要求を受け付けるIPアドレスを指定します。
省略時は、そのホストの全てのIPアドレスで受け付けます。
このオプションは、一つのノードで複数のスプールを提供する場合に、
それぞれのスプールごとに、別々のIPアドレスを使ってgfsdを起動する
ために用います。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_listen_address&nbsp;192.168.121.1</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_listen_backlog</SPAN
> <TT
CLASS="PARAMETER"
><I
>数</I
></TT
></DT
><DD
><P
>gfsd が
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>listen</SPAN
>(2)</SPAN
>
システムコールの第二引数に渡すバックログ・パラメータの数を指定します。
デフォルト値は、&#60;sys/socket.h&#62; に SOMAXCONN 定数が定義されているOSではその値 (OSに依存しますが、典型的な値は 128)、定義されてないOSでは 5 となります。</P
><P
>クライアント数の多い環境では、システム制限値を上げた上で、この値を増やしておくことを推奨します。</P
><P
>この文はgfarm2.confのみで有効であり、gfmd.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_listen_backlog&nbsp;128</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
></DT
><DD
><P
>GSI認証において、gfsdが用いる証明書の種類を指定します。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。</P
><P
>サーバ側でこの指定を省略した場合、サーバをroot権限で起動した場合は
ホスト証明書を用います。またサーバを一般ユーザ権限で起動した場合は
ユーザ証明書を用います。</P
><P
>クライアント側でこの指定を省略した場合、サーバがホスト証明書を利用している
と仮定してサーバ認証を行います。このためサーバをクライアントと同じユーザ
権限で起動している場合、クライアント側では、下記の一行を設定して
おく必要があります。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;self</P
><P
>指定可能な<TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
>としては、
「<SPAN
CLASS="TOKEN"
>self</SPAN
>」、
「<SPAN
CLASS="TOKEN"
>host</SPAN
>」、「<SPAN
CLASS="TOKEN"
>user</SPAN
>」、
「<SPAN
CLASS="TOKEN"
>mechanism-specific</SPAN
>」があり、
<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>および
<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
>と組み合わせて
下記のように用います。</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>self</SPAN
></DT
><DD
><P
>そのユーザが現在所持しているユーザ証明書を用いることを示します。
この指定を利用する際には、
<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>および
<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
>の
指定を行ってはいけません。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>host</SPAN
></DT
><DD
><P
>ホスト証明書あるいはサービス証明書を用いることを示します。
サービス証明書を用いる場合、そのサービスの名前を
<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>で指定します。
サービス名に「<SPAN
CLASS="TOKEN"
>host</SPAN
>」を指定した場合、
ファイル``<TT
CLASS="FILENAME"
>/etc/grid-security/hostcert.pem</TT
>''に
あるホスト証明書を用います。
それ以外のサービス名を指定した場合、
ファイル``<TT
CLASS="FILENAME"
>/etc/grid-security/サービス/サービスcert.pem</TT
>''
にあるサービス証明書を用います。
サービス名を省略した場合、「<SPAN
CLASS="TOKEN"
>host</SPAN
>」が指定されたとみなします。
ホスト証明書およびサービス証明書の場合、証明書のCommon Name欄のみを
比較します。Common Nameは、「CN=サービス名/ホスト名」の形式である必要が
あります。また、ホスト名は、<B
CLASS="COMMAND"
>gfhost</B
>コマンドで指定した
正式名と正確に一致している必要があります。ホスト別名は許されません。</P
><P
>これは、GSSAPI (RFC2743/RFC2744)のGSS_C_NT_HOSTBASED_SERVICEに
対応する機能です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;host<br>
	spool_server_cred_service&nbsp;host</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>user</SPAN
></DT
><DD
><P
>ユーザ証明書を用いることを示します。
ユーザのアカウント名を<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
>で指定します。
アカウント名を省略した場合には、そのコマンドを起動したユーザ名が使われます。
この指定を利用する際には、<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>の
指定を行ってはいけません。</P
><P
>ユーザ名と証明書のDistinguished Nameの対応をとるため、
``<TT
CLASS="FILENAME"
>/etc/grid-security/grid-mapfile</TT
>''を用います。
このため、このファイルが存在しなかったり、あるいはこのファイルに登録
されてないユーザは、この機能を用いることができません。</P
><P
>これは、GSSAPI (RFC2743/RFC2744)のGSS_C_NT_USER_NAMEに対応する機能です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;user<br>
	spool_server_cred_name&nbsp;guest</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>mechanism-specific</SPAN
></DT
><DD
><P
>サーバのX.509 Distinguished Nameを<SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
>で
直接指定します。
この指定を利用する際には、<SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
>の
指定を行ってはいけません。</P
><P
>これは、GSSAPI (RFC2743/RFC2744)でName TypeとしてGSS_C_NO_OIDを
指定した場合に対応する機能です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	spool_server_cred_type&nbsp;mechanism-specific<br>
	spool_server_cred_name&nbsp;"/O=Grid/O=Globus/OU=example.com/CN=John&nbsp;Smith"</P
></DD
></DL
></DIV
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_service</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_service</I
></TT
></DT
><DD
><P
>GSI認証において、<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>として
「<SPAN
CLASS="TOKEN"
>host</SPAN
>」を指定している場合に、gfsdが用いるサービス証明書の
種類を指定します。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。
詳しくは<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>の項を参照してください。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_server_cred_name</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_name</I
></TT
></DT
><DD
><P
>GSI認証において、<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>で指定した値に
応じて、gfsdが用いる証明書の設定を行います。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。
詳しくは<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>の項を参照してください。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_host</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfmdホスト名</I
></TT
></DT
><DD
><P
>gfmdが動作しているホスト名を指定します。</P
><P
>この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_host&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_port</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfmdポート番号</I
></TT
></DT
><DD
><P
>gfmdが利用するTCPポートの番号を指定します。
省略時のデフォルト・ポート番号は601番です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_port&nbsp;601</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_type</I
></TT
></DT
><DD
><P
>GSI認証において、gfmdが用いる証明書の種類を指定します。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。
設定の意味については<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>の項を
参照してください。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_service</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_service</I
></TT
></DT
><DD
><P
>GSI認証において、<SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
>として
「<SPAN
CLASS="TOKEN"
>host</SPAN
>」を指定している場合に、gfmdが用いるサービス証明書の
種類を指定します。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。
設定の意味については<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>の項を
参照してください。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_cred_name</SPAN
> <TT
CLASS="PARAMETER"
><I
>cred_name</I
></TT
></DT
><DD
><P
>GSI認証において、<SPAN
CLASS="TOKEN"
>metadb_server_cred_type</SPAN
>で指定した値に
応じて、gfmdが用いる証明書の設定を行います。
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>利用時には、この指定は単に無視されます。
設定の意味については<SPAN
CLASS="TOKEN"
>spool_server_cred_type</SPAN
>の項を
参照してください。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_listen_backlog</SPAN
> <TT
CLASS="PARAMETER"
><I
>数</I
></TT
></DT
><DD
><P
>gfmd が
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>listen</SPAN
>(2)</SPAN
>
システムコールの第二引数に渡すバックログ・パラメータの数を指定します。
デフォルト値は、&#60;sys/socket.h&#62; に SOMAXCONN 定数が定義されているOSではその値 (OSに依存しますが、典型的な値は 128)、定義されてないOSでは 5 となります。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_listen_backlog&nbsp;128</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_max_descriptors</SPAN
> <TT
CLASS="PARAMETER"
><I
>数</I
></TT
></DT
><DD
><P
>メタデータサーバgfmd用のディスクリプタ・リミット値を指定します。
省略された場合、OSのハード・リミット値と、131072 の、小さい方の値が
使われます。
大規模な構成では、この値を増やす必要がありますし、
小規模な構成では減らした方が良いでしょう。
この値の計算方法については、Gfarm FAQ を御覧ください。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_max_descriptors&nbsp;262144</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_stack_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>バイト数</I
></TT
></DT
><DD
><P
>メタデータサーバgfmd内の各スレッドが利用するスタックのサイズを
指定します。省略された場合OSのデフォルト値が使われます。
このパラメータは、gfmdの消費する仮想メモリ空間のサイズを節約するために
用います。</P
><P
>たとえば、CentOS 5/i386の場合、デフォルトのスタックサイズは10MBです
ので、このパラメータでスタックサイズを256KBに抑えると、gfmdのスタック
が消費する仮想メモリ空間のサイズを、1/40に減らすことができます。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_stack_size&nbsp;262144</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_thread_pool_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>スレッド数</I
></TT
></DT
><DD
><P
>メタデータサーバgfmdのスレッドプールのスレッド数を指定します。
メタデータサーバノードのコア数くらいに設定すると効果的です。
デフォルト値は16です。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_thread_pool_size&nbsp;16</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_job_queue_length</SPAN
> <TT
CLASS="PARAMETER"
><I
>キュー長</I
></TT
></DT
><DD
><P
>メタデータサーバgfmdのジョブキューのキュー長を指定します。
一度に接続する最大クライアントの数くらいに設定すると効果的です。
デフォルト値は16000です。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_job_queue_length&nbsp;160</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_heartbeat_interval</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>メタデータサーバgfmdが各ファイルシステムサーバgfsd
に対し動作確認を行うハートビートの間隔を秒数で指定します。
デフォルト値は180秒です。</P
><P
>Gfarm-2.3.0まではこの文はgfmd.confのみで有効であり、gfarm2.confでは
無視されていましたが、Gfarm-2.4.0以降はgfsdもこのパラメータを利用し
gfmd停止を検知するため、
gfarm2.confとgfmd.confの両方で指定する必要があります。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_heartbeat_interval&nbsp;180</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_dbq_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>キュー長</I
></TT
></DT
><DD
><P
>メタデータサーバgfmdではメタデータの変更をバックエンドDBに
非同期的に反映しますが，そのキューの長さを指定します。
キュー長を長くすると，バックエンドDBの更新速度に律速されにくくなります。
デフォルト値は65536です。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_dbq_size&nbsp;65536</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_server_host</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAPサーバー・ホスト名</I
></TT
></DT
><DD
><P
>gfmdのバックエンド・データベースとして
LDAPサーバを選択する場合、
LDAPサーバーが動作しているホスト名を指定します。
この文はgfmd.confで用いられ、gfarm2.confでは用いられません。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	ldap_server_host&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_server_port</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAPサーバー・ポート番号</I
></TT
></DT
><DD
><P
>LDAPサーバーが利用するTCPポートの番号を指定します。</P
><P
><SPAN
CLASS="TOKEN"
>ldap_server_host</SPAN
>を指定する場合には、
この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	ldap_server_port&nbsp;602</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_base_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP_base_distinguished_name</I
></TT
></DT
><DD
><P
>LDAPデータベースで保持するデータのキーの根となるノードの
名称、base distinguished nameを指定します。</P
><P
><SPAN
CLASS="TOKEN"
>ldap_server_host</SPAN
>を指定する場合には、
この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_bind_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP_bind_distinguished_name</I
></TT
></DT
><DD
><P
>LDAPデータベースに接続する際の認証に用いる名称を、distinguished nameで指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	ldap_bind_dn&nbsp;"cn=gfarmuser,&nbsp;dc=example,&nbsp;dc=com"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_bind_password</SPAN
> <TT
CLASS="PARAMETER"
><I
>password</I
></TT
></DT
><DD
><P
>LDAPデータベースに接続する際の認証パスワードを指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	ldap_bind_password&nbsp;"secret-ldap-password"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_server_host</SPAN
> <TT
CLASS="PARAMETER"
><I
>PostgreSQLサーバー・ホスト名</I
></TT
></DT
><DD
><P
>gfmdのバックエンド・データベースとして
PostgreSQLサーバを選択する場合、
PostgreSQLサーバーが動作しているホスト名を指定します。
この文はgfmd.confで用いられ、gfarm2.confでは用いられません。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_server_host&nbsp;postgresql.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_server_port</SPAN
> <TT
CLASS="PARAMETER"
><I
>PostgreSQLサーバー・ポート番号</I
></TT
></DT
><DD
><P
>PostgreSQLサーバーが利用するTCPポートの番号を指定します。</P
><P
><SPAN
CLASS="TOKEN"
>postgresql_server_host</SPAN
>を指定する場合には、
この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_server_port&nbsp;602</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_dbname</SPAN
> <TT
CLASS="PARAMETER"
><I
>dbname</I
></TT
></DT
><DD
><P
>PostgreSQLデータベース名を指定します。</P
><P
><SPAN
CLASS="TOKEN"
>postgresql_server_host</SPAN
>を指定する場合には、
この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_dbname&nbsp;gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_user</SPAN
> <TT
CLASS="PARAMETER"
><I
>user</I
></TT
></DT
><DD
><P
>PostgreSQLデータベースに接続するデータベース管理下のユーザ名を指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_user&nbsp;gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_password</SPAN
> <TT
CLASS="PARAMETER"
><I
>password</I
></TT
></DT
><DD
><P
>PostgreSQLデータベースに接続するデータベース管理下のユーザのパスワードを指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_password&nbsp;"secret-postgresql-password"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>postgresql_conninfo</SPAN
> <TT
CLASS="PARAMETER"
><I
>connection_info</I
></TT
></DT
><DD
><P
>PostgreSQLデータベースに接続するときの接続オプションを指定します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	postgresql_conninfo&nbsp;"sslmode=require&nbsp;connect_timeout=30"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>auth</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
><TT
CLASS="PARAMETER"
><I
>認証方法</I
></TT
><TT
CLASS="PARAMETER"
><I
>ホスト指定</I
></TT
></DT
><DD
><P
>この文は、第3引数で指定したホストとの通信に用いる認証方法を設定します。</P
><P
>第1引数の<TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
>部には、<SPAN
CLASS="TOKEN"
>enable</SPAN
>ないし<SPAN
CLASS="TOKEN"
>disable</SPAN
>
キーワードを指定します。
第2引数の<TT
CLASS="PARAMETER"
><I
>認証方法</I
></TT
>部には、<SPAN
CLASS="TOKEN"
>gsi</SPAN
>、
<SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>ないし<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>
キーワードを指定します。
第3引数には、<TT
CLASS="PARAMETER"
><I
>ホスト指定</I
></TT
>を記述します。</P
><P
>この文は複数指定可能です。各認証方法ごとに、先頭から順にホスト指定に
適合するかどうか調べ、有効であるとの指定に適合した場合、その認証方法が
利用候補になります。有効であるとの指定に適合しない場合や、あるいは
有効であるとの指定に適合するよりも前に無効であるとの指定に適合した
場合、その認証方法は、候補になりません。</P
><P
>この指定は、サーバー側とクライアント側の両方で解釈され、
双方ともで有効になっている認証方法のみが用いられます。</P
><P
>認証方法が異なるものに関しては、指定の順序は意味がありません。
複数の認証方法が候補となった場合、<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>、
<SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>、<SPAN
CLASS="TOKEN"
>gsi</SPAN
>認証の順序で試みます。</P
><P
>Gfarmのコンパイル時にglobusとのリンクを指定しなかった場合、
GSIは利用できません。この場合、<SPAN
CLASS="TOKEN"
>gsi</SPAN
>および
<SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>認証の指定は単に無視されます。</P
><P
>この設定は必須です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.100<br>
	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.101<br>
	auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
	auth&nbsp;enable&nbsp;gsi_auth&nbsp;10.0.0.0/8<br>
	auth&nbsp;enable&nbsp;gsi&nbsp;*</P
><P
>この例では、ホスト192.168.0.100と192.168.0.101の2つのホストを
除いた192.168.0.0/24ネットワークに属すホストには
<SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>と<SPAN
CLASS="TOKEN"
>gsi</SPAN
>の両方を、
10.0.0.0/8ネットワークに属すホストには<SPAN
CLASS="TOKEN"
>gsi_auth</SPAN
>および
<SPAN
CLASS="TOKEN"
>gsi</SPAN
>の両方を、
それ以外の全てのホストには<SPAN
CLASS="TOKEN"
>gsi</SPAN
>認証のみを試みます。
すなわち、ホスト192.168.0.100と192.168.0.101の2つのホストは、
<SPAN
CLASS="TOKEN"
>gsi</SPAN
>認証のみを試みることになります。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>sockopt </SPAN
><TT
CLASS="PARAMETER"
><I
>オプション</I
></TT
><I
CLASS="EMPHASIS"
>[=</I
><TT
CLASS="PARAMETER"
><I
>値</I
></TT
><I
CLASS="EMPHASIS"
>] [<SPAN
CLASS="TOKEN"
>LISTENER</SPAN
> | <TT
CLASS="PARAMETER"
><I
>ホスト指定</I
></TT
>]</I
></DT
><DD
><P
>通信socket(2)に対して、setsockopt(2)システムコールを使って
ソケット・オプションを指定します。</P
><P
>第2引数に全て大文字で<SPAN
CLASS="TOKEN"
>LISTENER</SPAN
>を指定した場合、
サーバー側(着呼側)のソケットに指定するオプションになります。
この場合、通信する相手に関係なく、
一律にソケット・オプションが設定されます。</P
><P
>第2引数にホスト指定を記述した場合、クライアント側(発呼側)の
ソケットに指定するオプションになります。この場合、通信する相手毎に
ソケット・オプションを変えることができます。
なお、第2引数に"*"と記述すると、クライアント側(発呼側)の全ての
ホストを意味することになり、サーバー側(着呼側)には適用されません。</P
><P
>第2引数を省略した場合、サーバー側とクライアント側の両方で、
全ての通信相手に対して同じソケット・オプションを設定します。</P
><P
>指定可能なソケット・オプションには次のものがあります。</P
><P
><SPAN
CLASS="TOKEN"
>debug</SPAN
>。setsockopt(2)システムコールで、<CODE
CLASS="CONSTANT"
>SO_DEBUG</CODE
>ソケット・オプションを指定します。値を記述する必要はありません。</P
><P
><SPAN
CLASS="TOKEN"
>keepalive</SPAN
>。setsockopt(2)システムコールで、<CODE
CLASS="CONSTANT"
>SO_KEEPALIVE</CODE
>
ソケット・オプションを指定します。値を記述する必要はありません。</P
><P
><SPAN
CLASS="TOKEN"
>sndbuf</SPAN
>。setsockopt(2)システムコールで、<CODE
CLASS="CONSTANT"
>SO_SNDBUF</CODE
>
ソケット・オプションを指定します。値の指定が必要です。</P
><P
><SPAN
CLASS="TOKEN"
>rcvbuf</SPAN
>。setsockopt(2)システムコールで、<CODE
CLASS="CONSTANT"
>SO_RCVBUF</CODE
>
ソケット・オプションを指定します。値の指定が必要です。</P
><P
><SPAN
CLASS="TOKEN"
>tcp_nodelay</SPAN
>。setsockopt(2)システムコールで、<CODE
CLASS="CONSTANT"
>TCP_NODELAY</CODE
>
ソケット・オプションを指定します。値を記述する必要はありません。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	sockopt&nbsp;tcp_nodelay&nbsp;192.168.0.0/24<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;LISTENER<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;LISTENER</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>known_network</SPAN
> <TT
CLASS="PARAMETER"
><I
>ホスト指定</I
></TT
></DT
><DD
><P
>ファイルシステムノードのネットワークを指定します。
本ネットワークは、
ファイルシステムノード選択時のグルーピングに利用されます。
この文で指定したアドレスに適合しないIPアドレスの場合、
IPv4のクラスCネットワークが仮定されます。</P
><P
>複数のネットワークを指定する場合は、以下のように複数回指定します。</P
><P
CLASS="LITERALLAYOUT"
>	known_network&nbsp;192.168.0.0/25<br>
	known_network&nbsp;192.168.0.128/25</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>network_receive_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>ネットワークを介したデータ受信のタイムアウト時間を秒単位で指定
します。
デフォルト値は60秒です。
この文は gfarm2.conf および gfmd.conf のいずれにおいても有効です。</P
><P
>Gfarmクライアントプログラムが指定した時間待ったもの、gfsd から
のデータがまったく届かなかった場合は、その gfsd との通信を中止し、処理
を継続させるべく他の gfsd サーバとの通信を試みます。</P
><P
>gfmd が指定した時間待ったもの、gfsd からデータがまったく
届かなかった場合、その gfsd との通信を中止して、その gfsd はダウンした
ものとみなします。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>admin_user</SPAN
> <TT
CLASS="PARAMETER"
><I
>ユーザ名</I
></TT
></DT
><DD
><P
>gfmd.conf内のこの文で指定されたユーザが、
デフォルトの特権ユーザとなります。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>admin_user_gsi_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>DN</I
></TT
></DT
><DD
><P
>gfmd.conf内のadmin_user文で指定された特権ユーザのSubject DNを指定します。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>local_user_map</SPAN
> <TT
CLASS="PARAMETER"
><I
>ユーザマップファイルパス名</I
></TT
> [<TT
CLASS="PARAMETER"
><I
>ホスト名</I
></TT
>:[<TT
CLASS="PARAMETER"
><I
>ポート番号</I
></TT
>]]</DT
><DD
><P
>sharedsecret認証において、
グローバルユーザ名とローカルユーザ名の対応関係を記述した
ユーザマップファイルパス名を指定します。
この設定は必須ではありませんが、
その場合ローカルユーザ名がグローバルユーザ名に変換されます。</P
><P
>同一ユーザに対して、
異なるローカルアカウント名を与えているファイルシステムノードがある場合や、
ローカルユーザ名とは異なるグローバルユーザ名を利用したい場合、
このファイルで、各ノードのローカルなユーザ名に対して、単一の
グローバルユーザ名を定義します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	local_user_map&nbsp;/etc/gfarm/gfarm-usermap</P
><P
>ユーザマップファイルは、グローバルユーザ名と
ローカルユーザ名を、空白で区切って各行に記述します。</P
><P
>ユーザマップファイルの内容例:</P
><P
CLASS="LITERALLAYOUT"
>	foobar&nbsp;foo<br>
	quux&nbsp;baz</P
><P
>この例の1行目の指定では、このノードのローカルユーザ名fooに
対してグローバルユーザ名foobarが定義されています。</P
><P
>メタデータサーバのホスト名/ポート番号を指定すると、
接続先のサーバごとに異なるユーザマップファイルを適用します。
ポート番号を省略した場合は、デフォルトのポート番号(601)を使用します。
local_user_map は複数回指定可能です。
ローカルユーザ名が同一の定義が複数のファイルに存在する場合、最初の定義が選択されます。</P
><P
>複数のユーザマップファイルの例:</P
><P
CLASS="LITERALLAYOUT"
>	local_user_map&nbsp;/etc/gfarm/gfarm-usermap1-1<br>
	local_user_map&nbsp;/etc/gfarm/gfarm-usermap1-2<br>
	local_user_map&nbsp;/etc/gfarm/gfarm-usermap2-1&nbsp;server2<br>
	local_user_map&nbsp;/etc/gfarm/gfarm-usermap2-2&nbsp;server2</P
><P
>この例では server2 に接続するときは gfarm-usermap2-1、gfarm-usermap2-2 の順番に適用します。
server2 以外に接続するときは gfarm-usermap1-1、gfarm-usermap1-2 の順番に適用します。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>local_group_map</SPAN
> <TT
CLASS="PARAMETER"
><I
>グループマップファイルパス名</I
></TT
> [<TT
CLASS="PARAMETER"
><I
>ホスト名</I
></TT
>:[<TT
CLASS="PARAMETER"
><I
>ポート番号</I
></TT
>]]</DT
><DD
><P
>グローバルグループ名とローカルグループ名の対応関係を記述した
グループマップファイルパス名を指定します。
このマップファイルは，ローカルシステムのグループIDを利用するgfarm2fsや
Globus GridFTPのGfarm DSIなどで利用されます。
この設定は必須ではありませんが、
その場合ローカルグループ名はグローバルグループ名と等しいと仮定されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	local_group_map&nbsp;/etc/gfarm/gfarm-groupmap</P
><P
>グループマップファイルは、グローバルグループ名と
ローカルグループ名を、空白で区切って各行に記述します。</P
><P
>メタデータサーバのホスト名/ポート番号を指定すると、
接続先のサーバごとに異なるグループマップファイルを適用します。
指定方法は local_user_map と同様です。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_cache_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>gfarmライブラリが内部的に保持している、ファイルシステムノード
のスケジューリング処理に関わる情報、すなわちロードアベレージ、
ディスク空き容量、認証が通るか否か等のキャッシュの有効期限を秒数で指定します。
停止していたファイルシステムノードが復活したような場合、この期限が
切れるまでは、そのノードがスケジューリングされないことがあります。
デフォルトは600秒すなわち10分です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_cache_timeout&nbsp;60</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_concurrency</SPAN
> <TT
CLASS="PARAMETER"
><I
>並列度</I
></TT
></DT
><DD
><P
>ファイルシステムノードを、スケジューリングのために並列検索する際の
並列度を指定します。
この数を増やすと並列度が高まり、スケジューリングが早く終りますが、
ファイルシステムノードの負荷は高くなります。
デフォルトは10です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_concurrency&nbsp;10</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_concurrency_per_net</SPAN
> <TT
CLASS="PARAMETER"
><I
>並列度</I
></TT
></DT
><DD
><P
>ファイルシステムノードのスケジューリング時に、
ファイルシステムノードが属する各ネットワークと、クライアントとの間の
ネットワーク遅延を計測します。このパラメータは、各ネットワーク毎に
幾つのファイルシステムノードを対象に計測するかを指定します。
停止しているファイルシステムノードが多い場合や、
負荷の高いファイルシステムノードが多く計測誤差が大きい場合には、
このパラメータを増やした方が良いかもしれません。
このパラメータを増やした場合には、
それに応じて schedule_concurrency パラメータについても増やすことを推奨します。
デフォルトは3です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_concurrency_per_net&nbsp;3</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_idle_load_thresh</SPAN
> <TT
CLASS="PARAMETER"
><I
>CPU負荷</I
></TT
></DT
><DD
><P
>ファイルシステムノードのスケジューリング時に、
CPU負荷が低いとみなされるCPU負荷を指定します。
ここで指定されるCPU負荷より低いCPU負荷のファイルシステムノードが
まずはスケジュール対象となります。
デフォルト値は0.1です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_idle_load_thresh&nbsp;0.1</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_busy_load_thresh</SPAN
> <TT
CLASS="PARAMETER"
><I
>CPU負荷</I
></TT
></DT
><DD
><P
>ファイルシステムノードのスケジューリング時に、
CPU負荷が高いとみなされるCPU負荷を指定します。
ここで指定されるCPU負荷より高いCPU負荷のファイルシステムノードは
当初スケジュール対象となりません。
デフォルト値は0.5です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_busy_load_thresh&nbsp;0.5</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_virtual_load</SPAN
> <TT
CLASS="PARAMETER"
><I
>CPU負荷</I
></TT
></DT
><DD
><P
>ファイルシステムノードが選択されたとき、
CPU負荷のクライアントキャッシュにここで指定されるCPU負荷が加えられます。
これにより、
一度スケジュールされたファイルシステムノードが何度もスケジュールされることを防いでいます。
デフォルト値は0.3です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_virtual_load&nbsp;0.3</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_candidates_ratio</SPAN
> <TT
CLASS="PARAMETER"
><I
>比率</I
></TT
></DT
><DD
><P
>ファイルシステムノードのスケジューリング時に、
ロードアベレージが schedule_busy_load_thresh 以下のノードが、
スケジューリング対象のノード数の何倍見つかったら、
検索を打ち切るかを指定します。
この値を大きくすると、より多くのノードを検索するため、
スケジューリングの精度は上がりますが、処理は遅くなります。
デフォルト値は4.0です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_candidates_ratio&nbsp;4.0</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>schedule_rtt_thresh</SPAN
> <TT
CLASS="PARAMETER"
><I
>比率</I
></TT
></DT
><DD
><P
>ファイルシステムノードのスケジューリング時に、
ファイルシステムノードが属する各ネットワークと、クライアントとの間の
ネットワーク遅延が、何倍になったら、そのネットワークに対する
スケジューリングの優先度を落すかを指定します。
デフォルト値は4.0です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	schedule_rtt_thresh&nbsp;4.0</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>minimum_free_disk_space</SPAN
> <TT
CLASS="PARAMETER"
><I
>バイト数</I
></TT
></DT
><DD
><P
>ファイルシステムノードで必要な最小限度のディスク空き容量を指定
します。このサイズ以下の空き容量しかないファイルシステムノードは、
ファイル書き込みを行う可能性のある操作を行う際に、選択されにくくなります。
指定はバイト単位で行いますが、数字の末尾に空白を開けずにk/M/G/Tを指定
することで、それぞれ1kバイト／1Mバイト／1Gバイト／1Tバイトを単位とする
ことができます。
デフォルトは128Mバイトです。</P
><P
>このパラメータは、gfarm2.confとgfmd.confの両方で指定する必要があります。
有効にするためには gfmd および Gfarmクライアントを再起動する必要があります。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	minimum_free_disk_space&nbsp;1G</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>simultaneous_replication_receivers</SPAN
> <TT
CLASS="PARAMETER"
><I
>同時処理数</I
></TT
></DT
><DD
><P
>gfmd 主導の複製処理を、単一複製作成ホストに対して、
同時にいくつまで並行して行なうことを許すかを設定します。
デフォルトは 20です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	simultaneous_replication_receivers&nbsp;40</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>gfsd_connection_cache</SPAN
> <TT
CLASS="PARAMETER"
><I
>コネクション数</I
></TT
></DT
><DD
><P
>gfarmライブラリがgfsdとの通信に用いるコネクションを、いくつ
までキャッシュするかを指定します。
デフォルトは16コネクションです。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	gfsd_connection_cache&nbsp;32</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>xmlattr_size_limit</SPAN
> <TT
CLASS="PARAMETER"
><I
>バイト数</I
></TT
></DT
><DD
><P
>XML拡張属性の値として、何バイトまで設定可能かを指定します。
デフォルトは786432バイトです。
983040バイトよりも大きな値を指定することはできません。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	xmlattr_size_limit&nbsp;786432</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>xattr_size_limit</SPAN
> <TT
CLASS="PARAMETER"
><I
>バイト数</I
></TT
></DT
><DD
><P
>拡張属性の値として、何バイトまで設定可能かを指定します。
デフォルトは65536バイトです。
983040バイトよりも大きな値を指定することはできません。</P
><P
>この文はgfmd.confのみで有効であり、gfarm2.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	xattr_size_limit&nbsp;65536</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>attr_cache_limit</SPAN
> <TT
CLASS="PARAMETER"
><I
>個数</I
></TT
></DT
><DD
><P
>gfarmライブラリがキャッシュする属性の最大数を指定します。
デフォルトは40000個です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	attr_cache_limit&nbsp;100000</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>attr_cache_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>ミリ秒数</I
></TT
></DT
><DD
><P
>gfarmライブラリが属性をキャッシュしている時間を、ミリ秒単位で指定します。
デフォルトは 1000ミリ秒すなわち 1秒です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	attr_cache_timeout&nbsp;3600000</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>log_level</SPAN
> <TT
CLASS="PARAMETER"
><I
>優先度レベル</I
></TT
></DT
><DD
><P
>どの優先度レベル以上のログを出力するかを指定します。
ここで指定したレベル未満の優先度のログは、syslogや標準エラーへ
送られません。
レベルは、優先度の高い順に"emerg", "alert", "crit", "err", "warning",
"notice", "info", "debug"です。
デフォルトの出力レベルは"info"です。
"crit"以上の優先度を指定することは、お勧めできません。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	log_level&nbsp;debug</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>log_message_verbose_level</SPAN
> <TT
CLASS="PARAMETER"
><I
>レベル</I
></TT
></DT
><DD
><P
>ログメッセージの冗長度を指定します。
デフォルトは0です。レベル0では、ログIDが出力されます。
レベル1では、レベル0に加えソースコードのファイル名と行番号が出力されます。
レベル2では、レベル1に加え関数名が出力されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	log_message_verbose_level&nbsp;1</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>log_auth_verbose</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>enableと指定した場合、認証処理に関する詳細なログを記録します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	log_auth_verbose&nbsp;enable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>file_trace</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>enableと指定した場合、ファイル作成・変更・削除に関する
監査ログの出力機能を有効にします。</P
><P
>このパラメータは、gfarm2.confとgfmd.confの両方で有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	file_trace&nbsp;enable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>fatal_action</SPAN
> <TT
CLASS="PARAMETER"
><I
>動作名</I
></TT
></DT
><DD
><P
>このパラメータでは、致命的なエラーが発生したときの動作を設定します。
デフォルトは <TT
CLASS="REPLACEABLE"
><I
>backtrace_and_abort</I
></TT
> です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	fatal_action&nbsp;backtrace_and_abort</P
><P
>指定可能な動作名は以下の通りです:</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>backtrace_and_abort</SPAN
></DT
><DD
><P
>バックトレースを出力した後、
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>abort</SPAN
>(3)</SPAN
>
を呼びます。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>backtrace_and_exit</SPAN
></DT
><DD
><P
>バックトレースを出力した後、
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>exit</SPAN
>(3)</SPAN
>
を呼びます。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>abort</SPAN
></DT
><DD
><P
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>abort</SPAN
>(3)</SPAN
>
を呼びます。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>exit</SPAN
></DT
><DD
><P
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>exit</SPAN
>(3)</SPAN
>
を呼びます。</P
></DD
></DL
></DIV
></DD
><DT
><SPAN
CLASS="TOKEN"
>debug_command</SPAN
> <TT
CLASS="PARAMETER"
><I
>コマンド行</I
></TT
></DT
><DD
><P
>Gfarmのアプリケーションプログラムがクラッシュした際 (SIGSEGV, SIGBUGを
受け取る等した場合)、このパラメータに記したデバッグコマンドが実行されます。
記述例を示します。</P
><P
CLASS="LITERALLAYOUT"
>	debug_command&nbsp;env&nbsp;DISPLAY=:0.0&nbsp;xterm&nbsp;-e&nbsp;gdb&nbsp;%e&nbsp;%p</P
><P
>ここで、"%e", "%p" は実際のプログラム名、プロセスIDにそれぞれ展開されます。
"%" 文字自体をコマンドライン中に記述したい場合は、"%%" と書いて下さい。</P
><P
>このパラメータは、gfarm2.confとgfmd.confの両方で有効です。
このパラメータを指定しなかった場合、デバッグコマンドは実行されません。</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>no_file_system_node_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>利用可能なファイルシステムノードが存在しない場合，
Gfarmクライアントライブラリはファイルシステムノードが利用可能になるまで試行を繰り返しますが、
そのタイムアウト時間を秒単位で指定します。
デフォルトは 30秒です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	no_file_system_node_timeout&nbsp;30</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>gfmd_reconnection_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>メタデータサーバへの接続が切断された場合，
メタデータサーバへの再接続を繰り返しますが，
そのタイムアウト時間を秒単位で指定します。
デフォルトは 30秒です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	gfmd_reconnection_timeout&nbsp;30</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>client_file_bufsize</SPAN
> <TT
CLASS="PARAMETER"
><I
>バイト数</I
></TT
></DT
><DD
><P
>Gfarmクライアントライブラリ（libgfarm）で使われるファイルのバッファ
  サイズをバイト単位で指定します。デフォルトは1048568バイト（= 1MiB -
  8B）です。Gfarm-2.5.0以前では、ファイルのバッファサイズは、遠隔ファイ
  ルアクセス性能を極端に低下させないためにも、デフォルト値以下である必
  要があります。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	client_file_bufsize&nbsp;65536</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>client_parallel_copy</SPAN
> <TT
CLASS="PARAMETER"
><I
>並列度</I
></TT
></DT
><DD
><P
><B
CLASS="COMMAND"
>gfprep</B
>コマンドと<B
CLASS="COMMAND"
>gfpcopy</B
>コマ
ンドが並列で動作する際の並列度を指定します。指定しない場合は
4並列で動作します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	client_parallel_copy&nbsp;10</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>profile</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>このオプションがenableの場合、プロファイル情報を出力します。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	profile&nbsp;enable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_list</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfmdホスト名[:ポート番号]</I
></TT
> <TT
CLASS="PARAMETER"
><I
>...</I
></TT
></DT
><DD
><P
>冗長化メタデータサーバの接続先一覧をスペース区切りで指定します。
ポート番号を省略するとデフォルトの601を指定したことになります。</P
><P
>この文はgfarm2.confのみで有効であり、gfmd.confでは無視されます。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_list&nbsp;mds1&nbsp;mds2:701</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_replication</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>このオプションがenableの場合、メタデータ冗長化機能が有効になります。デフォルトは disable です。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_replication&nbsp;enable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>synchronous_replication_timeout</SPAN
> <TT
CLASS="PARAMETER"
><I
>秒数</I
></TT
></DT
><DD
><P
>メタデータの同期レプリケーション実行時のタイムアウト時間を秒単位で設定します。
タイムアウト時間を過ぎた場合、同期先のスレーブgfmdとのgfmd channelの接続は切断されます。
接続が切断したスレーブgfmdへのレプリケーションは、スレーブgfmdが再接続してくるまで中断します。
デフォルトは 10 です。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	synchronous_replication_timeout&nbsp;30</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>synchronous_journaling</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>このオプションがenableの場合、ジャーナルファイルへ更新情報を保存した後にfdatasyncを実行します。
実行するタイミングは、1つのトランザクションの開始から終了までのレコードを書き込んだ後です。
デフォルトはenableです。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	synchronous_journaling&nbsp;disable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_force_slave</SPAN
> <TT
CLASS="PARAMETER"
><I
>有効性</I
></TT
></DT
><DD
><P
>enable のとき、デフォルトのマスターgfmdとして設定されている場合でも、スレーブgfmdとして起動します。
デフォルトはdisableです。</P
><P
>注意: この機能の実装は不完全ですので、今のところ、利用しないでください。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_force_slave&nbsp;enable</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_server_slave_max_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>ノード数</I
></TT
></DT
><DD
><P
>スレーブgfmdの最大ノード数を指定します。デフォルトは16です。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_server_slave_max_size&nbsp;40</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_journal_dir</SPAN
> <TT
CLASS="PARAMETER"
><I
>ジャーナルディレクトリ</I
></TT
></DT
><DD
><P
>ジャーナルファイルの保存ディレクトリを指定します。
このオプションはconfig-gfarmで指定します。
このオプションが指定されていない場合、gfmdは起動しません。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_journal_dir&nbsp;/var/gfarm-metadata/journal</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_journal_max_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>ファイルサイズ</I
></TT
></DT
><DD
><P
>ジャーナルファイルの最大サイズを指定します。
サイズが大きいほど、gfmdが起動完了するまでの時間が長くなることに注意してください。
デフォルトは 33554432 (32 MBytes)です。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_journal_max_size&nbsp;8388608</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_journal_recvq_size</SPAN
> <TT
CLASS="PARAMETER"
><I
>キュー長</I
></TT
></DT
><DD
><P
>スレーブgfmdが、マスターgfmdから受け取るジャーナルデータに関して、
メモリ上に保持する最大レコード数を指定します。
このサイズを越えて保持する必要が生じた場合には、バックエンド・データベース
への反映に遅延が生じていると見なし、スレーブとしての動作を諦めて終了します。
デフォルトは100000です。</P
><P
>この文はgfmd.confのみで有効です。</P
><P
>例:</P
><P
CLASS="LITERALLAYOUT"
>	metadb_journal_recvq_size&nbsp;100000</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="GRAMMAR"
></A
><H2
>GRAMMAR</H2
><P
>gfarm2.confの文法をBNFで記述すると、下記のようになります。</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>&#60;statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;spool_statement&#62;&nbsp;|<br>
	&#60;spool_server_listen_address_statement&#62;&nbsp;|<br>
	&#60;spool_server_listen_backlog_statement&#62;&nbsp;|<br>
	&#60;spool_server_cred_type_statement&#62;&nbsp;|<br>
	&#60;spool_server_cred_service_statement&#62;&nbsp;|<br>
	&#60;spool_server_cred_name_statement&#62;&nbsp;|<br>
	&#60;metadb_server_host_statement&#62;&nbsp;|<br>
	&#60;metadb_server_port_statement&#62;&nbsp;|<br>
	&#60;metadb_server_cred_type_statement&#62;&nbsp;|<br>
	&#60;metadb_server_cred_service_statement&#62;&nbsp;|<br>
	&#60;metadb_server_cred_name_statement&#62;&nbsp;|<br>
	&#60;metadb_server_listen_backlog_statement&#62;&nbsp;|<br>
	&#60;metadb_server_max_descriptors_statement&#62;&nbsp;|<br>
	&#60;metadb_server_stack_size_statement&#62;&nbsp;|<br>
	&#60;metadb_server_thread_pool_size_statement&#62;&nbsp;|<br>
	&#60;metadb_server_job_queue_length_statement&#62;&nbsp;|<br>
	&#60;metadb_server_heartbeat_interval_statement&#62;&nbsp;|<br>
	&#60;metadb_server_dbq_size_statement&#62;&nbsp;|<br>
	&#60;ldap_server_host_statement&#62;&nbsp;|<br>
	&#60;ldap_server_port_statement&#62;&nbsp;|<br>
	&#60;ldap_base_dn_statement&#62;&nbsp;|<br>
	&#60;ldap_bind_dn_statement&#62;&nbsp;|<br>
	&#60;ldap_bind_password_statement&#62;&nbsp;|<br>
	&#60;postgresql_server_host_statement&#62;&nbsp;|<br>
	&#60;postgresql_server_port_statement&#62;&nbsp;|<br>
	&#60;postgresql_dbname_statement&#62;&nbsp;|<br>
	&#60;postgresql_user_statement&#62;&nbsp;|<br>
	&#60;postgresql_password_statement&#62;&nbsp;|<br>
	&#60;postgresql_conninfo_statement&#62;&nbsp;|<br>
	&#60;auth_statement&#62;&nbsp;|<br>
	&#60;sockopt_statement&#62;&nbsp;|<br>
	&#60;known_network_statement&#62;&nbsp;|<br>
	&#60;network_receive_timeout_statement&#62;&nbsp;|<br>
	&#60;admin_user_statement&#62;&nbsp;|<br>
	&#60;admin_user_gsi_dn_statement&#62;&nbsp;|<br>
	&#60;local_user_map_statement&#62;&nbsp;|<br>
	&#60;local_group_map_statement&#62;&nbsp;|<br>
	&#60;schedule_cache_timeout_statement&#62;&nbsp;|<br>
	&#60;schedule_concurrency_statement&#62;&nbsp;|<br>
	&#60;schedule_concurrency_per_net_statement&#62;&nbsp;|<br>
	&#60;schedule_idle_load_thresh_statement&#62;&nbsp;|<br>
	&#60;schedule_busy_load_thresh_statement&#62;&nbsp;|<br>
	&#60;schedule_virtual_load_statement&#62;&nbsp;|<br>
	&#60;schedule_candidates_ratio_statement&#62;&nbsp;|<br>
	&#60;schedule_rtt_thresh_statement&#62;&nbsp;|<br>
	&#60;minimum_free_disk_space_statement&#62;&nbsp;|<br>
	&#60;simultaneous_replication_receivers_statement&#62;&nbsp;|<br>
	&#60;gfsd_connection_cache_statement&#62;&nbsp;|<br>
	&#60;xmlattr_size_limit_statement&#62;&nbsp;|<br>
	&#60;xattr_size_limit_statement&#62;&nbsp;|<br>
	&#60;attr_cache_limit_statement&#62;&nbsp;|<br>
	&#60;attr_cache_timeout_statement&#62;&nbsp;|<br>
	&#60;log_level_statement&#62;&nbsp;|<br>
	&#60;log_message_verbose_level_statement&#62;&nbsp;|<br>
	&#60;log_auth_verbose_statement&#62;&nbsp;|<br>
	&#60;file_trace_statement&#62;&nbsp;|<br>
	&#60;fatal_action_statement&#62;&nbsp;|<br>
	&#60;debug_command_statement&#62;&nbsp;|<br>
	&#60;client_file_bufsize_statement&#62;&nbsp;|<br>
	&#60;client_parallel_copy_statement&#62;&nbsp;|<br>
	&#60;profile_statement&#62;&nbsp;|<br>
	&#60;metadb_server_list_statement&#62;&nbsp;|<br>
	&#60;metadb_replication_statement&#62;&nbsp;|<br>
	&#60;synchronous_replication_timeout_statement&#62;&nbsp;|<br>
	&#60;synchronous_journaling_statement&#62;&nbsp;|<br>
	&#60;metadb_server_force_slave_statement&#62;&nbsp;|<br>
	&#60;metadb_server_slave_max_size_statement&#62;&nbsp;|<br>
	&#60;metadb_journal_dir_statement&#62;&nbsp;|<br>
	&#60;metadb_journal_max_size_statement&#62;&nbsp;|<br>
	&#60;metadb_journal_recvq_size_statement&#62;</P
></DD
><DT
>&#60;spool_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool"&nbsp;&#60;pathname&#62;</P
></DD
><DT
>&#60;spool_server_listen_address_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool_server_listen_address"&nbsp;&#60;ipv4_address&#62;</P
></DD
><DT
>&#60;spool_server_listen_backlog_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool_server_listen_backlog"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;spool_server_cred_type_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool_server_cred_type"&nbsp;&#60;cred_type&#62;</P
></DD
><DT
>&#60;spool_server_cred_service_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool_server_cred_service"&nbsp;&#60;cred_service&#62;</P
></DD
><DT
>&#60;spool_server_cred_name_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"spool_server_cred_name"&nbsp;&#60;cred_name&#62;</P
></DD
><DT
>&#60;metadb_server_host_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_host"&nbsp;&#60;hostname&#62;</P
></DD
><DT
>&#60;metadb_server_port_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_port"&nbsp;&#60;portnumber&#62;</P
></DD
><DT
>&#60;metadb_server_cred_type_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_cred_type"&nbsp;&#60;cred_type&#62;</P
></DD
><DT
>&#60;metadb_server_cred_service_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_cred_service"&nbsp;&#60;cred_service&#62;</P
></DD
><DT
>&#60;metadb_server_cred_name_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_cred_name"&nbsp;&#60;cred_name&#62;</P
></DD
><DT
>&#60;metadb_server_listen_backlog_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_listen_backlog"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_max_descriptors_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_max_descriptors"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_stack_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_stack_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_thread_pool_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_thread_pool_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_job_queue_length_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_job_queue_length"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_heartbeat_interval_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_heartbeat_interval"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_server_dbq_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_dbq_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;ldap_server_host_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"ldap_server_host"&nbsp;&#60;hostname&#62;</P
></DD
><DT
>&#60;ldap_server_port_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"ldap_server_port"&nbsp;&#60;portnumber&#62;</P
></DD
><DT
>&#60;ldap_base_dn_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"ldap_base_dn"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;ldap_bind_dn_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"ldap_bind_dn"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;ldap_bind_password_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"ldap_bind_password"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;postgresql_server_host_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_server_host"&nbsp;&#60;hostname&#62;</P
></DD
><DT
>&#60;postgresql_server_port_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_server_port"&nbsp;&#60;portnumber&#62;</P
></DD
><DT
>&#60;postgresql_dbname_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_dbname"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;postgresql_user_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_user"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;postgresql_password_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_password"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;postgresql_conninfo_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"postgresql_conninfo"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;auth_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"auth"&nbsp;&#60;validity&#62;&nbsp;&#60;auth_method&#62;&nbsp;&#60;hostspec&#62;</P
></DD
><DT
>&#60;auth_command&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"enable"&nbsp;|&nbsp;"disable"</P
></DD
><DT
>&#60;auth_method&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"gsi"&nbsp;|&nbsp;"gsi_auth"&nbsp;|&nbsp;"sharedsecret"</P
></DD
><DT
>&#60;sockopt_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"sockopt"&nbsp;&#60;socket_option&#62;[=&#60;number&#62;]&nbsp;[""LISTENER"&nbsp;|&nbsp;&#60;hostspec&#62;]</P
></DD
><DT
>&#60;socket_option&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"debug"&nbsp;|&nbsp;"keepalive"&nbsp;|&nbsp;"sndbuf"&nbsp;|&nbsp;"rcvbuf"&nbsp;|<br>
	"tcp_nodelay"</P
></DD
><DT
>&#60;known_network_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"known_network"&nbsp;&#60;hostspec&#62;</P
></DD
><DT
>&#60;network_receive_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"network_receive_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;admin_user_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"admin_user"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;admin_user_gsi_dn_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"admin_user_gsi_dn"&nbsp;&#60;string&#62;</P
></DD
><DT
>&#60;local_user_map_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"local_user_map"&nbsp;&#60;local_user_and_group_map_spec&#62;</P
></DD
><DT
>&#60;local_group_map_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"local_group_map"&nbsp;&#60;local_user_and_group_map_spec&#62;</P
></DD
><DT
>&#60;local_user_and_group_map_spec&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;pathname&#62;&nbsp;|<br>
		&#60;pathname&#62;&nbsp;&#60;hostname&#62;|<br>
		&#60;pathname&#62;&nbsp;&#60;hostname&#62;&nbsp;":"&nbsp;&#60;portnumber&#62;</P
></DD
><DT
>&#60;schedule_cache_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_cache_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;schedule_concurrency_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_concurrency"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;schedule_concurrency_per_net_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_concurrency_per_net"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;schedule_idle_load_thresh_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_idle_load_thresh"&nbsp;&#60;load&#62;</P
></DD
><DT
>&#60;schedule_busy_load_thresh_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_busy_load_thresh"&nbsp;&#60;load&#62;</P
></DD
><DT
>&#60;schedule_virtual_load_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_virtual_load"&nbsp;&#60;load&#62;</P
></DD
><DT
>&#60;schedule_candidates_ratio_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_candidates_ratio"&nbsp;&#60;floating_point_number&#62;</P
></DD
><DT
>&#60;schedule_rtt_thresh_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"schedule_rtt_thresh"&nbsp;&#60;floating_point_number&#62;</P
></DD
><DT
>&#60;minimum_free_disk_space_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"minimum_free_disk_space"&nbsp;&#60;size&#62;</P
></DD
><DT
>&#60;simultaneous_replication_receivers_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"simultaneous_replication_receivers"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;gfsd_connection_cache_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"gfsd_connection_cache"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;xmlattr_size_limit_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"xmlattr_size_limit"&nbsp;&#60;size&#62;</P
></DD
><DT
>&#60;xattr_size_limit_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"xattr_size_limit"&nbsp;&#60;size&#62;</P
></DD
><DT
>&#60;attr_cache_limit_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"attr_cache_limit"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;attr_cache_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"attr_cache_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;log_level_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"log_level"&nbsp;&#60;log_priority&#62;</P
></DD
><DT
>&#60;log_message_verbose_level_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"log_message_verbose_level"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;log_auth_verbose_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"log_auth_verbose"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;file_trace_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"file_trace"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;fatal_action_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"fatal_action"&nbsp;&#60;fatal_action_name&#62;</P
></DD
><DT
>&#60;debug_command_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"debug_command"&nbsp;&#60;string_list&#62;</P
></DD
><DT
>&#60;no_file_system_node_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"no_file_system_node_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;gfmd_reconnection_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"gfmd_reconnection_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;client_file_bufsize_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"client_file_bufsize"&nbsp;&#60;size&#62;</P
></DD
><DT
>&#60;client_parallel_copy_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"client_parallel_copy"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;profile_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"profile"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;metadb_server_list_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_list"&nbsp;&#60;metadb_server_list_spec&#62;</P
></DD
><DT
>&#60;metadb_server_list_spec&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;hostname_port_spec&#62;&nbsp;|<br>
	&#60;hostname_port_spec&#62;&nbsp;&#60;metadb_server_list_spec&#62;</P
></DD
><DT
>&#60;metadb_replication_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_replication"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;synchronous_replication_timeout_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"synchronous_replication_timeout"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;synchronous_journaling_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"synchronous_journaling"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;metadb_server_force_slave_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_force_slave"&nbsp;&#60;validity&#62;</P
></DD
><DT
>&#60;metadb_server_slave_max_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_server_slave_max_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_journal_dir_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_journal_dir"&nbsp;&#60;pathname&#62;</P
></DD
><DT
>&#60;metadb_journal_max_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_journal_max_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;metadb_journal_recvq_size_statement&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"metadb_journal_recvq_size"&nbsp;&#60;number&#62;</P
></DD
><DT
>&#60;string_list&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;string&#62;&nbsp;|<br>
	&#60;string&#62;&nbsp;&#60;string_list&#62;</P
></DD
><DT
>&#60;hostspec&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;ipv4_address&#62;&nbsp;|&nbsp;&#60;ipv4_address&#62;&nbsp;"/"&nbsp;&#60;address_mask&#62;&nbsp;|<br>
	&#60;hostname&#62;&nbsp;|&nbsp;"."&nbsp;&#60;domain_name&#62;&nbsp;|&nbsp;"*"</P
></DD
><DT
>&#60;pathname&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;pathname_character&#62;&nbsp;&#60;pathname_character&#62;*</P
></DD
><DT
>&#60;pathname_character&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;hostname_character&#62;&nbsp;|&nbsp;","&nbsp;|&nbsp;"/"&nbsp;|&nbsp;"_"</P
></DD
><DT
>&#60;hostname_port_spec&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;hostname&#62;|<br>
	&#60;hostname&#62;&nbsp;":"&nbsp;&#60;portnumber&#62;</P
></DD
><DT
>&#60;hostname&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;hostname_character&#62;&nbsp;&#60;hostname_character&#62;*</P
></DD
><DT
>&#60;hostname_character&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;alphabet&#62;&nbsp;|&nbsp;&#60;digit&#62;&nbsp;|&nbsp;"-"&nbsp;|&nbsp;"."</P
></DD
><DT
>&#60;portnumber&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;number&#62;</P
></DD
><DT
>&#60;size&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;number&#62;&nbsp;[&nbsp;"k"&nbsp;|&nbsp;"M"&nbsp;|&nbsp;"G"&nbsp;|&nbsp;"T"&nbsp;]</P
></DD
><DT
>&#60;number&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;digit&#62;&nbsp;[&#60;digit&#62;*]</P
></DD
><DT
>&#60;digit&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"0"&nbsp;|&nbsp;"1"&nbsp;|&nbsp;"2"&nbsp;|&nbsp;"3"&nbsp;|&nbsp;"4"&nbsp;|&nbsp;"5"&nbsp;|&nbsp;"6"&nbsp;|&nbsp;"7"&nbsp;|&nbsp;"8"&nbsp;|&nbsp;"9"</P
></DD
><DT
>&#60;string&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"""&nbsp;&#60;double_quoted_character&#62;*&nbsp;"""</P
></DD
><DT
>&#60;double_quoted_character&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>&#60;any_character_except_backslash_and_double_quotation&#62;&nbsp;|<br>
	"\\"&nbsp;|&nbsp;"\""</P
></DD
><DT
>&#60;validity&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"enable"&nbsp;|&nbsp;"disable"</P
></DD
><DT
>&#60;log_priority&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"emerg"&nbsp;|&nbsp;"alert"&nbsp;|&nbsp;"crit"&nbsp;|&nbsp;"err"&nbsp;|&nbsp;"warning"&nbsp;|<br>
	"notice"&nbsp;|&nbsp;"info"&nbsp;|&nbsp;"debug"</P
></DD
><DT
>&#60;fatal_action_name&#62; ::=</DT
><DD
><P
CLASS="LITERALLAYOUT"
>"backtrace_and_abort"&nbsp;|&nbsp;"backtrace_and_exit"&nbsp;|<br>
	"abort"&nbsp;|&nbsp;"exit"</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="EXAMPLES"
></A
><H2
>EXAMPLES</H2
><P
>以下は sharedsecret認証を使う gfarm2.conf の例です。</P
><P
CLASS="LITERALLAYOUT"
>metadb_server_host&nbsp;metadb.example.org<br>
metadb_server_port&nbsp;601<br>
auth&nbsp;enable&nbsp;sharedsecret&nbsp;*<br>
sockopt&nbsp;keepalive</P
><P
>メタデータの保存にPostgreSQLを使い、IPアドレス192.168.0.0/24の
ファイルシステムノードやクライアントに対して、sharedsecret認証を
使う gfmd.conf の例です。</P
><P
CLASS="LITERALLAYOUT"
>metadb_server_host&nbsp;metadb.example.org<br>
metadb_server_port&nbsp;601<br>
postgresql_server_host&nbsp;metadb.example.org<br>
postgresql_server_port&nbsp;5432<br>
postgresql_dbname&nbsp;gfarm<br>
postgresql_user&nbsp;gfarm<br>
postgresql_password&nbsp;"secret-postgresql-password"<br>
auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
admin_user&nbsp;john<br>
sockopt&nbsp;keepalive</P
><P
>メタデータの保存にLDAPを使い、任意のIPアドレスを使う
ファイルシステムノードやクライアントに対して、GSI認証を使う
gfmd.conf の例です。</P
><P
CLASS="LITERALLAYOUT"
>metadb_server_host&nbsp;metadb.example.com<br>
metadb_server_port&nbsp;601<br>
ldap_server_host&nbsp;metadb.example.com<br>
ldap_server_port&nbsp;602<br>
ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"<br>
ldap_bind_dn&nbsp;"cn=gfarmuser,&nbsp;dc=example,&nbsp;dc=com"<br>
ldap_bind_password&nbsp;"secret-ldap-password"<br>
auth&nbsp;enable&nbsp;gsi&nbsp;*<br>
spool_server_cred_type&nbsp;host<br>
spool_server_cred_service&nbsp;gfsd<br>
admin_user&nbsp;john<br>
admin_user_gsi_dn&nbsp;"/C=JP/ST=Tokyo/L=Chuo-ku/O=Example,&nbsp;Inc./OU=Example&nbsp;Division/CN=John&nbsp;Doe"<br>
sockopt&nbsp;keepalive</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="FILES"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>%%SYSCONFDIR%%/gfarm2.conf</TT
></DT
><DD
><P
></P
></DD
><DT
><TT
CLASS="FILENAME"
>$HOME/.gfarm2rc</TT
></DT
><DD
><P
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SEE-ALSO"
></A
><H2
>SEE ALSO</H2
><P
>  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfmd</SPAN
>(8)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfsd</SPAN
>(8)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>setsockopt</SPAN
>(2)</SPAN
></P
></DIV
></BODY
></HTML
>