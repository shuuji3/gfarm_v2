.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSTRESS.RB" "1" "15 March 2012" "Gfarm" ""

.SH NAME
gfstress.rb \- Gfarm 負荷試験を行う。
.SH SYNOPSIS

\fBgfstress.rb\fR [ \fB-t, --testdir \fIテストディレクトリ\fB\fR ] [ \fB-m, --gfarm2fs \fIgfarm2fsマウントポイント\fB\fR ] [ \fB-n, --number \fI擬似ユーザ数\fB\fR ]

.SH "DESCRIPTION"
.PP
\fIテストディレクトリ\fRを使用してgfperf-metadata, gfperf-tree, gfperf-read, gfperf-write, gfperf-replicaを同時並列に起動し、高負荷状態を作り出します。gfschedを呼び出し、各gfsdに対し並列にgfperf-read, gfperf-write, gfperf-replicaを実行します。
.PP
本コマンドはCtrl-CまたはTERMシグナルで停止させない限り、エラーを検出するまで動作し続けます。
.PP
擬似ユーザ数はgfperf-metadata, gfperf-read, gfperf-write, gfperf-replicaを一セットとし、何セットを同時実行するかを指定するものです。本コマンドを同時に複数個呼出したのと同等の効果が得られます。
.PP
gfarm2fsマウントポイントが与えられた場合はlibgfarmを使用した通常の負荷に加えてgfarm2fsを経由した負荷も同時に与えます。
.SH "OPTIONS"
.TP
\fB-t, --testdir \fIテストディレクトリ\fB\fR
高負荷試験に使用するディレクトリを指定します。デフォルトはgfarm:///stressです。
テスト終了後にテストデータを削除します。
.TP
\fB-m, --gfarm2fs \fIgfarm2fsマウントポイント\fB\fR
gfarm2fsのマウントポイントを指定します。
.TP
\fB-n, --number \fI擬似ユーザ数\fB\fR
本コマンドを複数個同時に呼出したのと同じ効果が得られます。
