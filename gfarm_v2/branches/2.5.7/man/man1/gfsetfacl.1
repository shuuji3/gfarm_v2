.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSETFACL" "1" "08 March 2011" "Gfarm" ""

.SH NAME
gfsetfacl \- set Gfarm file access control lists
.SH SYNOPSIS

\fBgfsetfacl\fR [ \fB\fIoptions\fB\fR ] [ \fB\fIpath\fB\fR\fI ...\fR ]

.SH "DESCRIPTION"
.PP
\fBgfsetfacl\fR changes the Access Control List (ACL)
of files or directories in the Gfarm filesystem.
.SH "OPTIONS"
.TP
\fB-b\fR
removes all extended ACL entries. (The base ACL entries of the
owner, group and others are not removed.)
.TP
\fB-k\fR
removes the only Default ACL.
.TP
\fB-n\fR
do not recalculate the mask entry of the ACL. The default
behavior of gfsetfacl is to recalculate the mask entry, if a mask
entry is not explicitly given.
.TP
\fB-r\fR
always recalculate the mask entry of the ACL. (Even if a mask
entry is explicitly given.) (See the -n option.)
.TP
\fB-t\fR
is test mode. Instead of changing the ACL of any files or
directories, the ACL text of input text and the new ACL text are
displayed.
.TP
\fB-m \fIacl_spec\fB\fR
This option specifies the ACL entries text to add/replace the
ACL entries of a Gfarm files or directories. Multiple ACL entries are
separated by comma characters (`,').
.TP
\fB-M \fIacl_file\fB\fR
This option specifies the file or standard input (`-') to
add/replace the ACL entries of a Gfarm files or directories. This
input of ACL file accepts the output of gfgetfacl command.
.TP
\fB-?\fR
displays a list of command options.
.SH "ACL ENTRIES"
.PP
The gfsetfacl command recognizes the following ACL entry formats.  The
perms field is a combination of characters that indicate the
permissions: read (r), write (w), execute (x).  A Default ACL entry
has a d[efault:] prefix.
.TP
\fB[d[efault:]u[ser]::perms\fR
Permissions of owner.
.TP
\fB[d[efault:]u[ser]:username:perms\fR
Permissions of a named user.
.TP
\fB[d[efault:]g[roup]::perms\fR
Permissions of a file group.
.TP
\fB[d[efault:]g[roup]:groupname:perms\fR
Permissions of a named group.
.TP
\fB[d[efault:]m[ask]::perms\fR
mask of effective rights
.TP
\fB[d[efault:]o[ther]::perms\fR
Permissions of others.
.SH "EXAMPLES"
.TP
\fBGranting read access to a named user\fR
gfsetfalc -m u:testuser:r filename
.TP
\fBReplacing the ACL of filename2 by filename1\fR
gfgetfacl filename1 | gfsetfacl -b -M - filename2
.TP
\fBACL text of long form\fR
.nf
# comment
user::rw-
user:testuser:rw-       #effective:r--
group::r--
group:testgroup:rw-     #effective:r--
mask::r--
other::r--
default:user::rwx
default:group::r-x
default:other::r-x
.fi
.TP
\fBACL text of short form\fR
.nf
u::rw,u:user1:rw,g::r,g:group1:rw,m::r,o::r,d:u::rwx,d:g::rx,d:o::rx
.fi
.SH "SEE ALSO"
.PP
\fBgfgetfacl\fR(1)
