.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSERVICE.CONF" "5" "08 March 2013" "Gfarm" ""

.SH NAME
gfservice.conf \- configuration file of gfservice
.SH "DESCRIPTION"
.PP
\fBgfservice\fR reads configuration data from the file.
(\fBgfservice-agent\fR doesn't read a configuration file.)
.PP
The configuration file itself is a Bourne-shell script.
It is \fBevaluated as a script\fR by
\fBgfservice\fR\&.
Here is an example of the configuration file:

.nf
	# gfmd entries.
	gfmd1=db1.example.com
	gfmd2=db2.example.com
.fi
.PP
Same as Bourne-shell script, lines beginning with '#' and empty lines
are ignored.
The other lines declare shell variables.
In this example, the variable \fIgfmd1\fR is set to
\fIdb1.example.com\fR and
\fIgfmd2\fR to
\fIdb12.example.com\fR respectively.
Whitespaces \fBmust not\fR be inserted around '='.
.PP
The variables named \fIgfmd1\fR and
\fIgfmd2\fR are used as "host-id".
To specify a remote host, \fBgfservice\fR uses host-id
instead of hostname:

.nf
	\fBgfservice \fIstart-gfmd\fB \fIgfmd2\fB\fR
.fi
.PP
Executing the command, \fBgfservice\fR starts gfmd on
\fIgfmd2\fR server, metadb2.example.com.
Note that the numbers at the tails of host-ids must be beginning with 1
and must be assigned successively.
.PP
For specifying gfsd servers and client hosts, use host-ids
"gfs\fIn\fR" and "client\fIn\fR"
respectively:

.nf
	# gfsd entries.
	gfsd1=fs1.example.com

	# client entries
	client1=pc1.example.com
	client2=pc2.example.com
	client3=pc2.example.com
.fi
.PP
In addition with host-id variables, \fBgfservice\fR recognizes
some variables related to host-id.

.nf
	# Configuration about gfmd1.
	gfmd1_CONFIG_GFARM_OPTIONS="-X -A $LOGNAME"
	gfmd1_SSH="ssh -i $HOME/.ssh/id_rsa_gfservice"
	gfmd1_SUDO=/usr/local/bin/sudo
.fi
.PP
As shown in this example, a value containing whitespaces can be set
by quotation marks.
$VARNAME is expanded to the value of the shell or
environment variable VARNAME\&.
.SH "VARIABLES ABOUT GFMD"
.PP
Variables named "gfmd\fIn\fR" (gfmd1, gfmd2, ...)
define gfmd servers.
Variable names beginning with "gfmd\fIn\fR_"  such
as \fIgfmd1_SSH\fR set configuration parameters of
the corresponding "gfmd\fIn\fR" server.
\fBgfservice\fR currently the following variables:
.TP
\fBgfmd\fIn\fB\fR
Register a gfmd server.
Its value represents a hostname (or an IP address) of the server.
.TP
\fBgfmd\fIn\fB_GFBINDIR\fR
Specify a path to a directory where \fBgfservice-agent\fR
command is installed on the gfmd server.
If the variable is declared, \fBgfservice\fR executes
\fB"$gfmd\fIn\fB_GFBINDIR/gfservice-agent"\fR\&.
Otherwise it executes \fB"gfservice-agent"\fR\&.
.TP
\fBgfmd\fIn\fB_CONFIG_GFARM_OPTIONS\fR
Specify options of \fBconfig-gfarm\fR command.
The default value is empty (no option).
\fBgfservice\fR refers this variable to perform
\fBconfig-gfarm\fR and many other sub-commands.
Do not delete or edit the declaration even after
\fBconfig-gfarm\fR has been complete.
.TP
\fBgfmd\fIn\fB_PRIVATE_MODE\fR
Set this variable to "true" if gfmd on the remote host is configured
in private mode.
.TP
\fBgfmd\fIn\fB_SSH\fR
Specify a path to an SSH client command and its options.
The variable is used when \fBgfservice\fR executes an SSH
client command to connect with the gfsd server.
The default value is "ssh".
.TP
\fBgfmd\fIn\fB_SUDO\fR
Specify a path to a Sudo command and options.
The variable is used when \fBgfservice\fR executes a Sudo
command on the gfsd server via SSH.
The default value is "sudo".
.SH "VARIABLES ABOUT GFSD"
.PP
Variables named "gfsd\fIn\fR" (gfsd1, gfsd2, ...)
define gfsd servers.
Variable names beginning with "gfsd\fIn\fR_" such as
\fIgfsd1_SSH\fR set configuration parameters of the
corresponding "gfsd\fIn\fR" server.
\fBgfservice\fR currently recognizes the following variables:
.TP
\fBgfsd\fIn\fB\fR
Register a gfsd server.
Its value represents a hostname (or an IP address) of the server.
.TP
\fBgfsd\fIn\fB_GFBINDIR\fR
Specify a path to a directory where \fBgfservice-agent\fR
command is installed on the gfsd server.
If the variable is declared, \fBgfservice\fR executes
\fB"$gfsd\fIn\fB_GFBINDIR/gfservice-agent"\fR\&.
Otherwise it executes \fB"gfservice-agent"\fR\&.
.TP
\fBgfsd\fIn\fB_CONFIG_GFSD_OPTIONS\fR
Specify options of \fBconfig-gfsd\fR command.
The default value is empty (no option).
\fBgfservice\fR refers this variable to perform
\fBconfig-gfsd\fR and many other sub-commands.
Do not delete or edit the declaration even after
\fBconfig-gfsd\fR has been complete.
.TP
\fBgfsd\fIn\fB_PRIVATE_MODE\fR
Set this variable to "true" if gfsd on the remote host is configured
in private mode.
.TP
\fBgfsd\fIn\fB_SSH\fR
Specify a path to an SSH client command and its options.
The variable is used when \fBgfservice\fR executes an SSH
client command to connect with the gfsd server.
The default value is "ssh".
.TP
\fBgfsd\fIn\fB_SUDO\fR
Specify a path to a Sudo command and options.
The variable is used when \fBgfservice\fR executes a Sudo
command on the gfsd server via SSH.
The default value is "sudo".
.SH "VARIABLES ABOUT CLIENT"
.PP
Variables named "client\fIn\fR" (client1, client2, ...)
define client hosts.
Their values are hostnames (or IP addresses).
Variable names beginning with "client\fIn\fR_" 
such as \fIclient1_SUDO\fR set configuration parameters
of the corresponding "client\fIn\fR" host.
\fBgfservice\fR currently recognizes the following variables:
.TP
\fBclient\fIn\fB\fR
Register a client host.
Its value represents a hostname (or an IP address) of the host.
.TP
\fBclient\fIn\fB_GFBINDIR\fR
Specify a path to a directory where \fBgfservice-agent\fR
command is installed on the client host.
If the variable is declared, \fBgfservice\fR executes
\fB"$client\fIn\fB_GFBINDIR/gfservice-agent"\fR\&.
Otherwise it executes \fB"gfservice-agent"\fR\&.
.TP
\fBclient\fIn\fB_GFARM2FS_BIN_PATH\fR
Specify a path to a directory where \fBgfarm2fs\fR
command is installed on the client host. The the variable is declared,
\fBgfservice\fR executes \fBgfarm2fs\fR with
specified path. The default value is %%BINDIR%%.
.TP
\fBclient\fIn\fB_SSH\fR
Specify a path to an SSH client command and its options.
The variable is used when \fBgfservice\fR executes an SSH
client command to connect with the client host.
The default value is "ssh".
.TP
\fBclient\fIn\fB_SUDO\fR
Specify a path to a Sudo command and options.
The variable is used when \fBgfservice\fR executes a Sudo
command on the client host via SSH.
The default value is "sudo".
.TP
\fBclient\fIn\fB_GFARM_CONF\fR
Specify a gfarm2.conf file in absolute path.
If a value is not set, \fBgfservice\fR uses a same path as
the path of gfarm2.conf in gfmd1(determined from the 'gfmd1_CONFIG_GFARM_OPTIONS'
shell variable).
