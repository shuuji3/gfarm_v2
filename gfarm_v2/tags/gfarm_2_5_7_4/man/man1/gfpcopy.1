.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFPCOPY" "1" "02 March 2013" "Gfarm" ""

.SH NAME
gfpcopy \- copy Gfarm files in parallel
.SH SYNOPSIS

\fBgfpcopy\fR [ \fB-nqvdpPU\fR ] [ \fB-f\fR ] [ \fB-S \fIsource-domainname\fB\fR ] [ \fB-h \fIsource-hostfile\fB\fR ] [ \fB-D \fIdestination-domainname\fB\fR ] [ \fB-H \fIdestination-hostfile\fB\fR ] [ \fB-j \fInum-of-processes\fB\fR ] [ \fB-w \fIway-of-scheduling\fB\fR ] [ \fB-W \fIkilobytes-for-threshold\fB\fR ] [ \fB-s \fIKB/s-to-simulate\fB\fR ] [ \fB-F \fInum-for-readahead\fB\fR ] [ \fB-b \fIbufsize\fB\fR ] \fB\fIsource-url\fB\fR \fB\fIdestination-url\fB\fR

.SH "DESCRIPTION"
.PP
\fBgfpcopy\fR copies files and directries specified by
the \fIsource-url\fR(gfarm:///... or file:///...) to a
directory specified by
the \fIdestination-url\fR(gfarm:///... or file:///...) in
parallel.
.PP
When a set of source hosts are specified, only files stored on the set
of source hosts are copied.  A set of hosts can be specified by a
domain name and/or a host file.  When both a domain name and a host
file are specified, a set of hosts is determined by both conditions.
.PP
If the \fIsource-url\fR parameter is a directory,
files under the directory will be copied recursively.
.PP
\fBgfpcopy\fR can also read the directory and get
informations of the entries in parallel.
.SH "GFPCOPY OPTIONS"
.PP
These are the options only for \fBgfpcopy\fR\&.
.TP
\fB-b \fIbufsize\fB\fR
Specifies the buffer size to copy.

The default value is 64KiB (64 * 1024).
.TP
\fB-f\fR
With -f option, existing destination files will be overwritten when
the size is different or the modification time is different from the
source file.

Without -f option, existing destination files will be overwritten when
the size is different or the modification time is older than the
source file.
.SH "COMMON OPTIONS"
.PP
\fBgfpcopy\fR has the same options
with \fBgfprep\fR\&.  (see man \fBgfprep\fR)
.SH "EXAMPLES"
.PP
To copy files under the directory recursively.

.nf
$ gfpcopy gfarm:///dir file:///tmp/dir
$ gfpcopy file:///tmp/dir gfarm:///dir
$ gfpcopy gfarm:///dir1 gfarm:///dir2
.fi
.PP
To copy a file.

.nf
$ gfpcopy gfarm:///dir/file file:///dir
.fi
.SH "NOTES"
.PP
If the gfmd and \fBgfpcopy\fR are far apart,
the \fBgfpcopy\fR operation is slow.  Specifying a large
value by the -j option or client_parallel_copy in gfarm2.conf may be
effective in such a case.
.SH "SEE ALSO"
.PP
\fBgfprep\fR(1),
\fBgfreg\fR(1),
\fBgfexport\fR(1),
\fBgfarm2.conf\fR(5)
