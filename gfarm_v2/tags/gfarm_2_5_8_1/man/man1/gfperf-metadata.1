.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFPERF-METADATA" "1" "07 March 2012" "Gfarm" ""

.SH NAME
gfperf-metadata \- Gfarm measure metadata performance
.SH SYNOPSIS

\fBgfperf-metadata\fR [ \fB-n, --number \fInumber of entries\fB\fR ] [ \fB-t, --testdir \fItest directory\fB\fR ] [ \fB-u, --unit \fIoutput unit\fB\fR ]

.SH "DESCRIPTION"
.PP
This command makes sepcified number of files and directories in \fItest directory\fR\&. And measures performance of execution time.
.PP
The following points to measure.
.TP
\fBcreate\fR
Measuring gfs_pio_create() or creat() performance.
The output is average of execute time of this function.
.TP
\fBreaddir\fR
Measuring execution time from gfs_opendir_caching() and gfs_readdir() to gfs_closedir(). 
In posix filesystem, measuring execution time from opendir() and readdir() to closedir().
The output is the time divided by \fInumber of entries\fR\&.
.TP
\fBreaddir+stat\fR
Measuring time of gfs_lstat_cached() or lstat() added to mentioned above in readdir.
The output is the time divided by \fInumber of entries\fR\&.
.TP
\fBunlink\fR
Measuring gfs_unlink() or unlink() performance.
The output is average of execute time of this function.
.TP
\fBmkdir\fR
Measuring gfs_mkdir() or mkdir() performance.
The output is average of execute time of this function.
.TP
\fBstat\fR
Measuring gfs_lstat() or lstat() performance.
The output is average of execute time of this function.
.TP
\fBchmod\fR
Measuring gfs_chmod() or chmod() performance.
The output is average of execute time of this function.
.TP
\fButimes\fR
Measuring gfs_utimes() or utimes() performance.
The output is average of execute time of this function.
.TP
\fBrename\fR
Measuring gfs_rename() or rename() performance.
The output is average of execute time of this function.
.TP
\fBsymlink\fR
Measuring gfs_symlink() or symlink() performance.
The output is average of execute time of this function.
.TP
\fBreadlink\fR
Measuring gfs_readlink() or readlink() performance.
The output is average of execute time of this function.
.TP
\fBsetxattr\fR
Measuring gfs_setattr() or setxattr() performance.
The output is average of execute time of this function.
.TP
\fBgetxattr\fR
Measuring gfs_getattr() or getxattr() performance.
The output is average of execute time of this function.
.TP
\fBremovexattr\fR
Measuring gfs_removeattr() or removexattr() performance.
The output is average of execute time of this function.
.TP
\fBrmdir\fR
Measuring gfs_removedir() or removedir() performance.
The output is average of execute time of this function.
.SH "OPTIONS"
.TP
\fB-n, --number \fInumber of entries\fB\fR
Creating number of files or directories to measure.
The default is 250.
.TP
\fB-t, --testdir \fItest directory\fB\fR
Files and directories are created in \fItest directory\fR\&.
If gfarm url (that begins with gfarm:///) is specified, measured by gfarm functions. If file url (that begins with file:///) is specified, measured by posix functions.
The default is gfarm:///tmp .
.TP
\fB-u, --uinit \fIoutput unit\fB\fR
Specify ops (operations per second) or usec (micro second).
The default is ops.
