<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gfsetfacl</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFSETFACL.1"
></A
>gfsetfacl</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfsetfacl&nbsp;--&nbsp;set Gfarm file access control lists</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="SYNOPSIS"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gfsetfacl</B
>  [<TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
>] [<TT
CLASS="REPLACEABLE"
><I
>path</I
></TT
>...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
><B
CLASS="COMMAND"
>gfsetfacl</B
> changes the Access Control List (ACL)
of files or directories in the Gfarm filesystem.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="OPTIONS"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><CODE
CLASS="OPTION"
>-b</CODE
></DT
><DD
><P
>removes all extended ACL entries. (The base ACL entries of the
owner, group and others are not removed.)</P
></DD
><DT
><CODE
CLASS="OPTION"
>-k</CODE
></DT
><DD
><P
>removes the only Default ACL.</P
></DD
><DT
><CODE
CLASS="OPTION"
>-n</CODE
></DT
><DD
><P
>do not recalculate the mask entry of the ACL. The default
behavior of gfsetfacl is to recalculate the mask entry, if a mask
entry is not explicitly given.</P
></DD
><DT
><CODE
CLASS="OPTION"
>-r</CODE
></DT
><DD
><P
>always recalculate the mask entry of the ACL. (Even if a mask
entry is explicitly given.) (See the -n option.)</P
></DD
><DT
><CODE
CLASS="OPTION"
>-t</CODE
></DT
><DD
><P
>is test mode. Instead of changing the ACL of any files or
directories, the ACL text of input text and the new ACL text are
displayed.</P
></DD
><DT
><CODE
CLASS="OPTION"
>-m</CODE
> <CODE
CLASS="PARAMETER"
>acl_spec</CODE
></DT
><DD
><P
>This option specifies the ACL entries text to add/replace the
ACL entries of a Gfarm files or directories. Multiple ACL entries are
separated by comma characters (`,').</P
></DD
><DT
><CODE
CLASS="OPTION"
>-M</CODE
> <CODE
CLASS="PARAMETER"
>acl_file</CODE
></DT
><DD
><P
>This option specifies the file or standard input (`-') to
add/replace the ACL entries of a Gfarm files or directories. This
input of ACL file accepts the output of gfgetfacl command.</P
></DD
><DT
><CODE
CLASS="OPTION"
>-?</CODE
></DT
><DD
><P
>displays a list of command options.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="ACL-ENTRIES"
></A
><H2
>ACL ENTRIES</H2
><P
>The gfsetfacl command recognizes the following ACL entry formats.  The
perms field is a combination of characters that indicate the
permissions: read (r), write (w), execute (x).  A Default ACL entry
has a d[efault:] prefix.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>[d[efault:]u[ser]::perms</DT
><DD
>Permissions of owner.</DD
><DT
>[d[efault:]u[ser]:username:perms</DT
><DD
>Permissions of a named user.</DD
><DT
>[d[efault:]g[roup]::perms</DT
><DD
>Permissions of a file group.</DD
><DT
>[d[efault:]g[roup]:groupname:perms</DT
><DD
>Permissions of a named group.</DD
><DT
>[d[efault:]m[ask]::perms</DT
><DD
>mask of effective rights</DD
><DT
>[d[efault:]o[ther]::perms</DT
><DD
>Permissions of others.</DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="EXAMPLES"
></A
><H2
>EXAMPLES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Granting read access to a named user</DT
><DD
>gfsetfalc -m u:testuser:r filename</DD
><DT
>Replacing the ACL of filename2 by filename1</DT
><DD
>gfgetfacl filename1 | gfsetfacl -b -M - filename2</DD
><DT
>ACL text of long form</DT
><DD
><P
CLASS="LITERALLAYOUT"
>#&nbsp;comment<br>
user::rw-<br>
user:testuser:rw-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#effective:r--<br>
group::r--<br>
group:testgroup:rw-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#effective:r--<br>
mask::r--<br>
other::r--<br>
default:user::rwx<br>
default:group::r-x<br>
default:other::r-x</P
></DD
><DT
>ACL text of short form</DT
><DD
><P
CLASS="LITERALLAYOUT"
>u::rw,u:user1:rw,g::r,g:group1:rw,m::r,o::r,d:u::rwx,d:g::rx,d:o::rx</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SEE-ALSO"
></A
><H2
>SEE ALSO</H2
><P
>  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfgetfacl</SPAN
>(1)</SPAN
></P
></DIV
></BODY
></HTML
>