.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFSCHED" "1" "28 December 2010" "Gfarm" ""

.SH NAME
gfsched \- ファイルシステムノードをスケジューリングし、利用可能なノードを表示
.SH SYNOPSIS

\fBgfsched\fR \fB-f \fIgfarm-URL\fB\fR [ \fB-D \fIドメイン名\fB\fR ] [ \fB-n \fIノード数\fB\fR ] [ \fB-LMclw\fR ]


\fBgfsched\fR [ \fB-P \fIgfarm-URL\fB\fR ] [ \fB-D \fIドメイン名\fB\fR ] [ \fB-n \fIノード数\fB\fR ] [ \fB-LMlw\fR ]

.SH "DESCRIPTION"
.PP
\fBgfsched\fR に
\fB-f\fR \fIgfarm-URL\fR オプションを
指定した場合、そのgfarmファイルを保持するファイルシステムノードの
うちで、現在利用可能なもの表示します。
.PP
\fB-f\fRオプションを指定しなかった場合、利用可能な
ファイルシステムノードを表示します。この場合、
\fB-P\fR \fIgfarm-URL\fR オプションで
パス名か gfarm URL を指定することにより、表示対象のメタデータサーバを
切替えることができます。
.SH "OPTIONS"
.TP
\fB-D \fIドメイン名\fB\fR
ドメイン名ないしホスト名を指定し、検索対象のファイルシステムノードを
絞ります。
.TP
\fB-L\fR
そのホストに対して、認証が成功するか否かの確認を省略します。
高速になりますが、認証不能なホストがスケジューリングされてしまう
危険があります。
.TP
\fB-M\fR
メタデータサーバに問い合わせた結果のみを表示し、クライアント側での
スケジューリング処理を行ないません。
このオプションを指定すると、動作は高速になりますが、ネットワーク的に到
達不能なホストや、認証不能なホストが表示される危険があります。
.TP
\fB-P \fIgfarm-URL\fB\fR
ファイルシステムノードを管理するメタデータサーバを特定する
ために、gfarm-URL ないしパス名を指定します。
このオプションは、\fB-f\fR オプションと排他的です。
.TP
\fB-f \fIgfarm-URL\fB\fR
指定したファイルについて、その複製を保持するファイルシステムノードを
検索します。
このオプションは、\fB-P\fR オプションと排他的です。
.TP
\fB-c\fR
オプション「\fB-f\fR」で指定したファイルが存在しない
場合で、かつ、このオプションを指定した場合、ファイルを新規作成した
場合のスケジューリング情報を表示します。

現在、このオプションを利用すると、指定したファイルを新規作成します。
この挙動は将来変更される可能性があるのでご注意ください。
.TP
\fB-l\fR
ホスト名のみならず、ポート番号も表示します。
このオプションの表示形式は、将来変更される可能性がありますのでご注意ください。
.TP
\fB-n \fIノード数\fB\fR
指定した数をファイルシステムノードの表示を試みます。
ノード数がその数に満たない場合には、そこで表示を打ち切ります。
このオプションを指定しない場合、条件を満たす全ノードを表示します。
.TP
\fB-w\fR
ファイルの書き込みを行なう前提で、スケジューリングを行ないます。
このオプションを指定した場合、ディスクの空き容量が足りないファイルシステム
ノードは除外されます。

このオプションと、\fB-f\fR オプションを同時に指定し、
かつ、そのファイルが既存のプロセスによって書き込みオープンされている場合には、
\fB-n\fR の指定に関わらず、現在このファイルの書き込み用に
割り当てられているファイルシステムノード 1つのみを表示します。
.TP
\fB-?\fR
引数オプションを表示します。
.SH "EXAMPLES"
.PP
以下は、メタデータサーバが動作中であると把握している、ファイルシステムノードを
問い合わせる例です。

.nf
$ gfsched -M
.fi
